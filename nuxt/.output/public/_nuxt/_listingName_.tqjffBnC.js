import{c as A}from"./carousel.mfqQpFs1.js";import{_ as U}from"./index.caIb3saO.js";import{u as G,_ as W}from"./Input.zAY0g2Of.js";import{y as H,z as Z,l as N,o as l,c as n,C as J,D as Q,p as K,m as X,E as Y,a as ee,u as te,b as t,t as a,e as m,d as r,w as u,F as w,r as T,G as p,i as se,f as C}from"./entry.O4NrzpTr.js";const oe={__name:"Textarea",props:{class:{type:null,required:!1},defaultValue:{type:[String,Number],required:!1},modelValue:{type:[String,Number],required:!1}},emits:["update:modelValue"],setup(i,{emit:d}){const h=i,_=G(h,"modelValue",d,{passive:!0,defaultValue:h.defaultValue});return(e,s)=>H((l(),n("textarea",{"onUpdate:modelValue":s[0]||(s[0]=f=>J(_)?_.value=f:null),class:Q(N(K)("flex min-h-[60px] w-full rounded-md border border-zinc-200 border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",h.class))},null,2)),[[Z,N(_)]])}},le=oe,ne={key:0},ie={class:"mx-auto px-4 md:px-28 pt-10"},ae={key:0,class:"flex flex-wrap justify-between items-start md:items-end sticky"},re={class:"text-center"},de={class:"text-2xl md:text-4xl montserrat-font mb-3"},ce={class:"text-sm md:text-xl mb-3 josefin-slab font-[600] uppercase"},me={key:0,class:"text-sm md:text-xl"},ue=t("span",null,null,-1),pe={key:1,class:"flex flex-wrap justify-between items-start gap-10 md:items-end sticky"},he={class:"text-2xl md:text-3xl montserrat-font mb-4"},fe={class:"text-sm md:text-lg mb-4 josefin-slab font-[600] uppercase"},_e={class:"text-sm md:text-lg font-bold"},ge={key:0,class:"md:text-right"},xe=t("p",{class:"text-lg text-gray-700"},"ASKING PRICE",-1),be={class:"text-3xl font-semibold"},ye={class:"px-0.5"},ve={class:"my-10"},we=["src"],Te={class:"mx-auto px-6 md:px-24 py-12"},ke={class:"flex flex-wrap md:flex-nowrap space-y-12 md:space-y-0 md:space-x-24"},Ae={class:"flex flex-col space-y-20 w-[100%] md:w-[60%] md:min-w-[60%]"},Pe={key:0},Ce=t("h2",{class:"text-xl md:text-2xl font-semibold mb-6"},"Details",-1),$e={class:"grid grid-cols-3 gap-4"},Se={class:"text-md md:text-xl font-bold"},Ne={class:"text-xs"},Le={class:"pt-6"},Fe=t("h2",{class:"text-xl md:text-2xl font-semibold mb-6"}," Property Descriptions ",-1),Ve=["innerHTML"],Ee={class:"md:w-[70%] pt-4"},Ie=t("h2",{class:"text-xl md:text-2xl font-semibold mb-8"},"Amenities",-1),qe={class:"grid grid-cols-3 gap-4"},je={key:1,class:"md:w-[50%] pt-4"},Me=t("h2",{class:"text-xl md:text-2xl font-semibold mb-8"},"Units",-1),Oe={class:"flex flex-col space-y-4"},ze={key:0,class:"font-bold text-sm md:text-md"},De={key:1,class:"text-sm md:text-md josefin-slab font-[600]"},Be={key:2,class:"text-sm md:text-md"},Re={key:2,class:"md:w-[70%] pt-4"},Ue=t("h2",{class:"text-xl md:text-2xl font-semibold mb-8"},"Payment Plan",-1),Ge={class:"flex justify-between"},We={class:"text-xl md:text-xl font-bold"},He={class:"text-sm"},Ze={class:"flex flex-col flex-wrap space-y-5 md:space-y-10 w-full md:w-[45%] md:items-end"},Je={key:0,class:"flex items-center md:items-start flex-wrap md:flex-nowrap justify-start gap-8 md:p-8"},Qe={class:"rounded-full bg-gray-200 mb-4"},Ke=["src"],Xe={class:"w-full"},Ye=t("h3",{class:"text-lg montserrat-font mb-3"},"LISTING AGENT",-1),et={class:"font-semibold montserrat-font mb-3"},tt={class:"mb-3"},st=["href"],ot={class:"mb-3"},lt=["href"],nt={class:"flex mt-6"},it={class:"w-[92%] p-6 md:py-6 md:px-4 bg-gray-100 bg-opacity-50"},at=t("h2",{class:"text-xl font-semibold mb-4"},"Register your interest",-1),rt={class:"space-y-4 text-right"},dt={key:0},ct={class:"mb-8 mt-28"},mt=t("h2",{class:"text-xl md:text-2xl font-semibold mb-1.5"},"Location Map",-1),ut={key:0,class:"text-sm"},pt={key:0,class:"w-[100%] h-[50vh] md:w-[65%] md:h-[400px]"},ht={class:"mt-16"},ft=t("h2",{class:"text-3xl font-semibold mt-32 mb-20"},"Similar Properties",-1),_t={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},gt=["onClick"],xt=["src"],bt={class:"inline-flex items-center border px-2.5 py-0.5 w-fit josefin-slab text-xl font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-white bg-black/10 absolute top-4 right-4"},yt={class:"p-4"},vt={class:"text-lg md:text-2xl font-bold"},wt={class:"text-sm mt-2"},Tt={class:"flex items-start gap-1 mt-2"},kt=t("svg",{xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 -960 960 960",fill:"#000",width:"18"},[t("path",{d:"M480-480q33 0 56.5-23.5T560-560q0-33-23.5-56.5T480-640q-33 0-56.5 23.5T400-560q0 33 23.5 56.5T480-480Zm0 294q122-112 181-203.5T720-552q0-109-69.5-178.5T480-800q-101 0-170.5 69.5T240-552q0 71 59 162.5T480-186Zm0 106Q319-217 239.5-334.5T160-552q0-150 96.5-239T480-880q127 0 223.5 89T800-552q0 100-79.5 217.5T480-80Zm0-480Z"})],-1),At={class:"text-sm"},Pt={class:"text-sm mt-4 text-[#302CFF] hover:text-[#302CFF] cursor-pointer"},Ct={components:{},data(){return{propertyId:null,title:null,subtitle:null,featureText:null,startingPrice:null,propertyImages:[],description:null,shortDescription:null,address:null,amenities:[],details:null,units:null,paymentPlans:null,agent:{},isOffPlan:!1,similarProperties:[],name:null,email:null,phone:null,moreInfo:null,coordinates:[],center:[40,40],projection:"EPSG:4326",zoom:16,rotation:0,radius:15,strokeWidth:5,strokeColor:"black",fillColor:"white",showMoreBtn:!0,isMetaTagsAdded:!1}},computed:{...X(["listings"])},watch:{listings:{handler(i){this.getValues(i)},deep:!0},async subtitle(i){if(i){const d=await this.$store.dispatch("fetchCordinatesFromAddress",{address:i});if(d&&d.length>0){const[h,x]=[parseFloat(d[0].lon),parseFloat(d[0].lat)];this.coordinates.push(h),this.coordinates.push(x)}}}},mounted(){this.getValues()},methods:{fromLonLat(i){return Y(i)},goToProperty(i){if(i&&i.propertyName&&i.title&&i.address){const d=i.propertyName.trim().replaceAll(" ","-").replaceAll(",","").replaceAll(".","").toLowerCase(),h=i.title.trim().replaceAll(" ","-").replaceAll(",","").replaceAll(".","").toLowerCase().trim(),x=i.address.trim().replaceAll(" ","-").replaceAll(",","").replaceAll(".","").toLowerCase().trim();this.$router.push(`/listing/${x}/${d}/${h}`)}else console.log("No listing found")},showMore(){this.shortDescription=this.description,this.showMoreBtn=!1},getValues(i=null){const d=this.$route.params.propertyName.toLowerCase().replaceAll("-"," ").trim(),h=this.$route.params.listingName.toLowerCase().replaceAll("-"," ").trim(),x=this.$route.params.address.toLowerCase().replaceAll("-"," ").trim();let _=i||JSON.parse(JSON.stringify(this.listings));if(_&&_.length){this.similarProperties=_.map(s=>{var f;return s.priceText=s.price?`AED ${(f=s.price)==null?void 0:f.toLocaleString("en-us")}`:"Amazing Prices",s.locationText=s.address,s.image=s.img1||s.images[0],s.buttonText=`${s.homeType.toUpperCase()} FOR SALE`,s.tag=s.isOffPlan?"Off Plan":"Exclusive",s.featureText=`${s.bed} BEDS | ${s.bath} BATHS | ${s.sqFt} SQ FT`,s}).slice(0,3);let e=_.filter(s=>{var f,b,y;return((f=s.propertyName)==null?void 0:f.trim().replaceAll(",","").replaceAll(".","").toLowerCase().trim())==d&&((b=s.title)==null?void 0:b.trim().replaceAll(",","").replaceAll(".","").toLowerCase().trim())==h&&((y=s.address)==null?void 0:y.trim().replaceAll(",","").replaceAll(".","").toLowerCase().trim())==x})[0];if(e){this.propertyId=e.id,this.title=e.title,this.subtitle=`${e.propertyName}, ${e.address}`,this.featureText=`${e.homeType} | ${e.bed} Beds | ${e.bath} Baths | ${e.sqFt} Sq Ft`,this.startingPrice=e.price,this.propertyImage=e.img1||e.images[0],this.propertyImages=e.images,this.description=e.description,this.shortDescription=e.description.slice(0,1e3)+"...",this.address=e.address,this.amenities=e.amenities,this.details=e.details,this.units=e.units,this.paymentPlans=e.paymentPlans,this.agent=e.agent,this.isOffPlan=e.isOffPlan,this.moreInfo="Hi, I found your property. Please contact me. Thank you";const s=document.createElement("div");s.innerHTML=this.description,s.innerText}}},goToWhatsapp(i){window.open(`https://wa.me/${i}`,"_blank")},goToCall(i){window.open(`tel:${i}`,"_blank")},async submitContactForm(){if(this.name&&this.email&&this.phone){const i={listingId:this.propertyId,name:this.name,email:this.email,phone:this.phone,moreInfo:this.moreInfo},d=await this.$store.dispatch("submitContactForm",i);d.message?this.$store.commit("SET_TOASTER_MSG",{title:d.message}):this.$store.commit("SET_TOASTER_MSG",{title:"Something went wrong. Please try again later."})}else this.$store.commit("SET_TOASTER_MSG",{title:"Please fill all the required fields first."})}}},Ft=Object.assign(Ct,{__name:"[:listingName]",setup(i){const d=ee(),h=d.params.propertyName,x=d.params.listingName,_=d.params.address;try{$fetch(`https://tomorrowluxuryproperty.com/api/search/${_}/${h}/${x}`,{server:!0,immediate:!0}).then(e=>{console.log(e);const s=e.listing;function f(b){const y=/<[^>]*>([^<]+)<[^>]*>/g,v=[];let g;for(;(g=y.exec(b))!==null;)v.push(g[1].trim());return v.join(" ")}if(s){const b=f(s.description);te({title:`${(v=>v.split(" ").map(g=>g.charAt(0).toUpperCase()+g.slice(1)).join(" "))(s.title)} | Tomorrow Luxury Property`,meta:[{name:"description",content:b}]})}else console.log("No listing found")})}catch(e){console.log(e)}return(e,s)=>{var $,S;const f=A.Slide,b=A.Navigation,y=A.Pagination,v=A.Carousel,g=U,k=W,L=le,F=p("ol-view"),V=p("ol-source-osm"),E=p("ol-tile-layer"),I=p("ol-geom-point"),q=p("ol-style-fill"),j=p("ol-style-stroke"),M=p("ol-style-circle"),O=p("ol-style"),z=p("ol-feature"),D=p("ol-source-vector"),B=p("ol-vector-layer"),R=p("ol-map");return e.title?(l(),n("div",ne,[t("div",ie,[e.isOffPlan?(l(),n("div",ae,[t("span",{class:"text-sm md:text-xl font-extrabold josefin-slab mb-20 cursor-pointer uppercase",onClick:s[0]||(s[0]=o=>e.$router.push("/offplan"))},a("< Off Plan")),t("div",re,[t("h1",de,a(e.title),1),t("p",ce,a(e.subtitle),1),e.startingPrice?(l(),n("p",me," STARTING FROM AED "+a(($=e.startingPrice)==null?void 0:$.toLocaleString("en-US")),1)):m("",!0)]),ue])):(l(),n("div",pe,[t("div",null,[t("h1",he,a(e.title),1),t("p",fe,a(e.subtitle),1),t("p",_e,a(e.featureText),1)]),e.startingPrice?(l(),n("div",ge,[xe,t("p",be," AED "+a((S=e.startingPrice)==null?void 0:S.toLocaleString("en-US")),1)])):m("",!0)]))]),t("div",ye,[t("div",ve,[r(v,{"items-to-show":1,wrapAround:!0,autoplay:3500},{addons:u(()=>[r(b),r(y)]),default:u(()=>[(l(!0),n(w,null,T(e.propertyImages,(o,c)=>(l(),se(f,{key:c},{default:u(()=>[t("img",{alt:"Property",class:"w-full h-auto",height:"400",src:o,style:{aspectRatio:"840/400",objectFit:"cover"},width:"640"},null,8,we)]),_:2},1024))),128))]),_:1})])]),t("div",Te,[t("div",ke,[t("div",Ae,[e.isOffPlan&&e.details?(l(),n("div",Pe,[Ce,t("div",$e,[(l(!0),n(w,null,T(e.details,(o,c)=>(l(),n("div",{key:c},[t("h1",Se,a(o),1),t("span",Ne,a(c),1)]))),128))])])):m("",!0),t("div",Le,[Fe,t("p",{class:"text-sm md:text-lg text-justify",innerHTML:e.shortDescription},null,8,Ve),e.showMoreBtn?(l(),n("p",{key:0,class:"mt-12 border-0 underline underline-offset-4 hover:bg-white cursor-pointer",onClick:s[1]||(s[1]=(...o)=>e.showMore&&e.showMore(...o))},a("More >"))):m("",!0)]),t("div",Ee,[Ie,t("div",qe,[(l(!0),n(w,null,T(e.amenities,(o,c)=>(l(),n("div",{class:"bg-gray-200 p-2 text-left text-xs md:text-[1rem]",key:c},a(o),1))),128))])]),e.isOffPlan&&e.units?(l(),n("div",je,[Me,t("div",Oe,[(l(!0),n(w,null,T(e.units,(o,c)=>{var P;return l(),n("div",{class:"flex justify-between text-center",key:c},[o.sqFt?(l(),n("h1",ze,a(c),1)):m("",!0),o.sqFt?(l(),n("span",De,a(o.sqFt)+" Sq Ft ",1)):m("",!0),o.price?(l(),n("span",Be," AED "+a((P=o.price)==null?void 0:P.toLocaleString("en-US")),1)):m("",!0)])}),128))])])):m("",!0),e.isOffPlan&&e.paymentPlans?(l(),n("div",Re,[Ue,t("div",Ge,[(l(!0),n(w,null,T(e.paymentPlans,(o,c)=>(l(),n("div",{key:c},[t("p",We,a(o),1),t("h1",He,a(c),1)]))),128))])])):m("",!0)]),t("div",Ze,[e.agent?(l(),n("div",Je,[t("div",Qe,[t("img",{alt:"Agent",class:"w-[200px] h-full rounded-full",src:e.agent.img,style:{aspectRatio:"1/1",objectFit:"cover"}},null,8,Ke)]),t("div",Xe,[Ye,t("p",et,a(e.agent.name),1),t("p",tt,[t("a",{href:`mailto:${e.agent.email}`,class:"text-sm montserrat-font"},a(e.agent.email),9,st)]),t("p",ot,[t("a",{href:`tel:${e.agent.phone}`,class:"text-sm montserrat-font"},a(e.agent.phone),9,lt)]),t("div",nt,[r(g,{class:"rounded-none border-2 transition-all border-[#000] bg-white text-sm font-semibold text-[#25D366] mt-2",variant:"outline",onClick:s[2]||(s[2]=o=>e.goToWhatsapp(e.agent.phone))},{default:u(()=>[C(" WhatsApp ")]),_:1}),r(g,{onClick:s[3]||(s[3]=o=>e.goToCall(e.agent.phone)),class:"rounded-none border-2 transition-all border-[#000] bg-black text-sm font-semibold text-[#e3e3e3] mt-2 ml-0 md:ml-2",variant:"outline"},{default:u(()=>[C("Call Now")]),_:1})])])])):m("",!0),t("div",it,[at,t("div",rt,[r(k,{modelValue:e.name,"onUpdate:modelValue":s[4]||(s[4]=o=>e.name=o),placeholder:"Full Name"},null,8,["modelValue"]),r(k,{modelValue:e.email,"onUpdate:modelValue":s[5]||(s[5]=o=>e.email=o),placeholder:"Email"},null,8,["modelValue"]),r(k,{modelValue:e.phone,"onUpdate:modelValue":s[6]||(s[6]=o=>e.phone=o),placeholder:"+971 | Mobile"},null,8,["modelValue"]),r(L,{class:"rounded-none border-[#000]",modelValue:e.moreInfo,"onUpdate:modelValue":s[7]||(s[7]=o=>e.moreInfo=o),placeholder:"Tell us more about what you want to know"},null,8,["modelValue"]),r(g,{class:"rounded-none border-[1px] px-6 border-[#000] bg-white text-black hover:bg-black hover:text-white",onClick:e.submitContactForm},{default:u(()=>[C("Submit")]),_:1},8,["onClick"])])])])]),e.coordinates&&e.coordinates.length>0?(l(),n("div",dt,[t("div",ct,[mt,e.address?(l(),n("span",ut,a(e.address),1)):m("",!0)]),e.coordinates&&e.coordinates.length>0?(l(),n("div",pt,[r(R,{loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,style:{height:"400px"}},{default:u(()=>[r(F,{ref:"view",center:e.coordinates,rotation:e.rotation,zoom:e.zoom,projection:e.projection},null,8,["center","rotation","zoom","projection"]),r(E,null,{default:u(()=>[r(V)]),_:1}),r(B,null,{default:u(()=>[r(D,null,{default:u(()=>[r(z,null,{default:u(()=>[r(I,{coordinates:e.coordinates},null,8,["coordinates"]),r(O,null,{default:u(()=>[r(M,{radius:e.radius},{default:u(()=>[r(q,{color:e.fillColor},null,8,["color"]),r(j,{color:e.strokeColor,width:e.strokeWidth},null,8,["color","width"])]),_:1},8,["radius"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])):m("",!0)])):m("",!0),t("div",ht,[ft,t("div",_t,[(l(!0),n(w,null,T(e.similarProperties,(o,c)=>(l(),n("div",{onClick:P=>e.goToProperty(o),class:"relative cursor-pointer hover:bg-gray-100 rounded-sm border-[1px] border-[#00000062]",key:c},[t("img",{src:o.image,alt:"Property",class:"w-full h-auto",style:{"aspect-ratio":"300 / 200","object-fit":"cover"}},null,8,xt),t("div",bt,a(o.tag),1),t("div",yt,[t("p",vt,a(o.priceText),1),t("p",wt,a(o.featureText),1),t("div",Tt,[kt,t("p",At,a(o.locationText),1)]),t("p",Pt,a(o.buttonText),1)])],8,gt))),128))])])])])):m("",!0)}}});export{Ft as default};
