import{c as k}from"./carousel.-UFCQw-P.js";import{_ as U}from"./index.35-IisUm.js";import{u as W,_ as G}from"./Input.7_nrv69m.js";import{y as H,z as Z,l as N,o as r,c as a,C as J,D as Q,p as K,_ as X,a as Y,u as $,m as ee,E as te,b as t,t as c,e as u,d,w as _,F as v,r as w,G as f,i as se,f as P}from"./entry.816Gyrxv.js";const oe={__name:"Textarea",props:{class:{type:null,required:!1},defaultValue:{type:[String,Number],required:!1},modelValue:{type:[String,Number],required:!1}},emits:["update:modelValue"],setup(n,{emit:l}){const h=n,e=W(h,"modelValue",l,{passive:!0,defaultValue:h.defaultValue});return(s,i)=>H((r(),a("textarea",{"onUpdate:modelValue":i[0]||(i[0]=p=>J(e)?e.value=p:null),class:Q(N(K)("flex min-h-[60px] w-full rounded-md border border-zinc-200 border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",h.class))},null,2)),[[Z,N(e)]])}},le=oe,ne={components:{},data(){return{propertyId:null,title:null,subtitle:null,featureText:null,startingPrice:null,propertyImages:[],description:null,shortDescription:null,address:null,amenities:[],details:null,units:null,paymentPlans:null,agent:{},isOffPlan:!1,similarProperties:[],name:null,email:null,phone:null,moreInfo:null,coordinates:[],center:[40,40],projection:"EPSG:4326",zoom:16,rotation:0,radius:15,strokeWidth:5,strokeColor:"black",fillColor:"white",showMoreBtn:!0,isMetaTagsAdded:!1}},setup(){const n=Y(),l=n.params.propertyName,h=n.params.listingName,x=n.params.address;try{$fetch(`https://tomorrowluxuryproperty.com/api/search/${x}/${l}/${h}`,{server:!0,immediate:!0}).then(e=>{console.log(e);const s=e.listing;function i(p){const y=/<[^>]*>([^<]+)<[^>]*>/g,g=[];let b;for(;(b=y.exec(p))!==null;)g.push(b[1].trim());return g.join(" ")}if(s){const p=i(s.description);$({title:`${(g=>g.split(" ").map(b=>b.charAt(0).toUpperCase()+b.slice(1)).join(" "))(s.title)} | Tomorrow Luxury Property`,meta:[{name:"description",content:p}]})}else console.log("No listing found")})}catch(e){console.log(e)}},computed:{...ee(["listings"])},watch:{listings:{handler(n){this.getValues(n)},deep:!0},async subtitle(n){if(n){const l=await this.$store.dispatch("fetchCordinatesFromAddress",{address:n});if(l&&l.length>0){const[h,x]=[parseFloat(l[0].lon),parseFloat(l[0].lat)];this.coordinates.push(h),this.coordinates.push(x)}}}},mounted(){this.getValues()},methods:{fromLonLat(n){return te(n)},goToProperty(n){if(n&&n.propertyName&&n.title&&n.address){const l=n.propertyName.trim().replaceAll(" ","-").replaceAll(",","").replaceAll(".","").toLowerCase(),h=n.title.trim().replaceAll(" ","-").replaceAll(",","").replaceAll(".","").toLowerCase().trim(),x=n.address.trim().replaceAll(" ","-").replaceAll(",","").replaceAll(".","").toLowerCase().trim();this.$router.push(`/listing/${x}/${l}/${h}`)}else console.log("No listing found")},showMore(){this.shortDescription=this.description,this.showMoreBtn=!1},getValues(n=null){const l=this.$route.params.propertyName.toLowerCase().replaceAll("-"," ").trim(),h=this.$route.params.listingName.toLowerCase().replaceAll("-"," ").trim(),x=this.$route.params.address.toLowerCase().replaceAll("-"," ").trim();let e=n||JSON.parse(JSON.stringify(this.listings));if(e&&e.length){this.similarProperties=e.map(i=>{var p;return i.priceText=i.price?`AED ${(p=i.price)==null?void 0:p.toLocaleString("en-us")}`:"Amazing Prices",i.locationText=i.address,i.image=i.img1||i.images[0],i.buttonText=`${i.homeType.toUpperCase()} FOR SALE`,i.tag=i.isOffPlan?"Off Plan":"Exclusive",i.featureText=`${i.bed} BEDS | ${i.bath} BATHS | ${i.sqFt} SQ FT`,i}).slice(0,3);let s=e.filter(i=>{var p,y,g;return((p=i.propertyName)==null?void 0:p.trim().replaceAll(",","").replaceAll(".","").toLowerCase().trim())==l&&((y=i.title)==null?void 0:y.trim().replaceAll(",","").replaceAll(".","").toLowerCase().trim())==h&&((g=i.address)==null?void 0:g.trim().replaceAll(",","").replaceAll(".","").toLowerCase().trim())==x})[0];if(s){this.propertyId=s.id,this.title=s.title,this.subtitle=`${s.propertyName}, ${s.address}`,this.featureText=`${s.homeType} | ${s.bed} Beds | ${s.bath} Baths | ${s.sqFt} Sq Ft`,this.startingPrice=s.price,this.propertyImage=s.img1||s.images[0],this.propertyImages=s.images,this.description=s.description,this.shortDescription=s.description.slice(0,1e3)+"...",this.address=s.address,this.amenities=s.amenities,this.details=s.details,this.units=s.units,this.paymentPlans=s.paymentPlans,this.agent=s.agent,this.isOffPlan=s.isOffPlan,this.moreInfo="Hi, I found your property. Please contact me. Thank you";const i=document.createElement("div");i.innerHTML=this.description,i.innerText}}},goToWhatsapp(n){window.open(`https://wa.me/${n}`,"_blank")},goToCall(n){window.open(`tel:${n}`,"_blank")},async submitContactForm(){if(this.name&&this.email&&this.phone){const n={listingId:this.propertyId,name:this.name,email:this.email,phone:this.phone,moreInfo:this.moreInfo},l=await this.$store.dispatch("submitContactForm",n);l.message?this.$store.commit("SET_TOASTER_MSG",{title:l.message}):this.$store.commit("SET_TOASTER_MSG",{title:"Something went wrong. Please try again later."})}else this.$store.commit("SET_TOASTER_MSG",{title:"Please fill all the required fields first."})}}},ie={key:0},re={class:"mx-auto px-4 md:px-28 pt-10"},ae={key:0,class:"flex flex-wrap justify-between items-start md:items-end sticky"},ce={class:"text-center"},de={class:"text-2xl md:text-4xl montserrat-font mb-3"},me={class:"text-sm md:text-xl mb-3 josefin-slab font-[600] uppercase"},ue={key:0,class:"text-sm md:text-xl"},pe=t("span",null,null,-1),_e={key:1,class:"flex flex-wrap justify-between items-start gap-10 md:items-end sticky"},he={class:"text-2xl md:text-3xl montserrat-font mb-4"},fe={class:"text-sm md:text-lg mb-4 josefin-slab font-[600] uppercase"},xe={class:"text-sm md:text-lg font-bold"},ge={key:0,class:"md:text-right"},be={class:"text-3xl font-semibold"},ye={class:"px-0.5"},ve={class:"my-10"},we=["src"],Te={class:"mx-auto px-6 md:px-24 py-12"},ke={class:"flex flex-wrap md:flex-nowrap space-y-12 md:space-y-0 md:space-x-24"},Ae={class:"flex flex-col space-y-20 w-[100%] md:w-[60%] md:min-w-[60%]"},Pe={key:0},Ce=t("h2",{class:"text-xl md:text-2xl font-semibold mb-6"},"Details",-1),Se={class:"grid grid-cols-3 gap-4"},Ne={class:"text-md md:text-xl font-bold"},Le={class:"text-xs"},Fe={class:"pt-6"},Ve=t("h2",{class:"text-xl md:text-2xl font-semibold mb-6"}," Property Descriptions ",-1),qe=["innerHTML"],Ee={class:"md:w-[70%] pt-4"},Ie=t("h2",{class:"text-xl md:text-2xl font-semibold mb-8"},"Amenities",-1),Me={class:"grid grid-cols-3 gap-4"},je={key:1,class:"md:w-[50%] pt-4"},Oe=t("h2",{class:"text-xl md:text-2xl font-semibold mb-8"},"Units",-1),ze={class:"flex flex-col space-y-4"},De={key:0,class:"font-bold text-sm md:text-md"},Be={key:1,class:"text-sm md:text-md josefin-slab font-[600]"},Re={key:2,class:"text-sm md:text-md"},Ue={key:2,class:"md:w-[70%] pt-4"},We=t("h2",{class:"text-xl md:text-2xl font-semibold mb-8"},"Payment Plan",-1),Ge={class:"flex justify-between"},He={class:"text-xl md:text-xl font-bold"},Ze={class:"text-sm"},Je={class:"flex flex-col flex-wrap space-y-5 md:space-y-10 w-full md:w-[45%] md:items-end"},Qe={key:0,class:"flex items-center md:items-start flex-wrap md:flex-nowrap justify-start gap-8 md:p-8"},Ke={class:"rounded-full bg-gray-200 mb-4"},Xe=["src"],Ye={class:"w-full"},$e=t("h3",{class:"text-lg montserrat-font mb-3"},"LISTING AGENT",-1),et={class:"font-semibold montserrat-font mb-3"},tt={class:"mb-3"},st=["href"],ot={class:"mb-3"},lt=["href"],nt={class:"flex mt-6"},it={class:"w-[92%] p-6 md:py-6 md:px-4 bg-gray-100 bg-opacity-50"},rt=t("h2",{class:"text-xl font-semibold mb-4"},"Register your interest",-1),at={class:"space-y-4 text-right"},ct={key:0},dt={class:"mb-8 mt-28"},mt=t("h2",{class:"text-xl md:text-2xl font-semibold mb-1.5"},"Location Map",-1),ut={key:0,class:"text-lg"},pt={key:0,class:"w-[100%] h-[50vh] md:w-[65%] md:h-[400px]"},_t={class:"mt-16"},ht=t("h2",{class:"text-3xl font-semibold mt-32 mb-12"},"Similar Properties",-1),ft={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},xt=["onClick"],gt=["src"],bt={class:"inline-flex items-center border px-2.5 py-0.5 w-fit josefin-slab text-xl font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-white bg-black/10 absolute top-4 right-4"},yt={class:"p-4"},vt={class:"text-lg md:text-2xl font-bold"},wt={class:"text-sm mt-2"},Tt={class:"flex items-start gap-1 mt-2"},kt=t("svg",{xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 -960 960 960",fill:"#000",width:"18"},[t("path",{d:"M480-480q33 0 56.5-23.5T560-560q0-33-23.5-56.5T480-640q-33 0-56.5 23.5T400-560q0 33 23.5 56.5T480-480Zm0 294q122-112 181-203.5T720-552q0-109-69.5-178.5T480-800q-101 0-170.5 69.5T240-552q0 71 59 162.5T480-186Zm0 106Q319-217 239.5-334.5T160-552q0-150 96.5-239T480-880q127 0 223.5 89T800-552q0 100-79.5 217.5T480-80Zm0-480Z"})],-1),At={class:"text-sm"},Pt={class:"text-sm mt-4 text-[#302CFF] hover:text-[#302CFF] cursor-pointer"};function Ct(n,l,h,x,e,s){var C,S;const i=k.Slide,p=k.Navigation,y=k.Pagination,g=k.Carousel,b=U,T=G,L=le,F=f("ol-view"),V=f("ol-source-osm"),q=f("ol-tile-layer"),E=f("ol-geom-point"),I=f("ol-style-fill"),M=f("ol-style-stroke"),j=f("ol-style-circle"),O=f("ol-style"),z=f("ol-feature"),D=f("ol-source-vector"),B=f("ol-vector-layer"),R=f("ol-map");return e.title?(r(),a("div",ie,[t("div",re,[e.isOffPlan?(r(),a("div",ae,[t("span",{class:"text-sm md:text-xl font-extrabold josefin-slab mb-20 cursor-pointer uppercase",onClick:l[0]||(l[0]=o=>n.$router.push("/offplan"))},c("< Off Plan")),t("div",ce,[t("h1",de,c(e.title),1),t("p",me,c(e.subtitle),1),e.startingPrice?(r(),a("p",ue," STARTING FROM AED "+c((C=e.startingPrice)==null?void 0:C.toLocaleString("en-US")),1)):u("",!0)]),pe])):(r(),a("div",_e,[t("div",null,[t("h1",he,c(e.title),1),t("p",fe,c(e.subtitle),1),t("p",xe,c(e.featureText),1)]),e.startingPrice?(r(),a("div",ge,[t("p",be," AED "+c((S=e.startingPrice)==null?void 0:S.toLocaleString("en-US")),1)])):u("",!0)]))]),t("div",ye,[t("div",ve,[d(g,{"items-to-show":1,wrapAround:!0,autoplay:3500},{addons:_(()=>[d(p),d(y)]),default:_(()=>[(r(!0),a(v,null,w(e.propertyImages,(o,m)=>(r(),se(i,{key:m},{default:_(()=>[t("img",{alt:"Property",class:"w-full h-auto",height:"400",src:o,style:{aspectRatio:"840/400",objectFit:"cover"},width:"640"},null,8,we)]),_:2},1024))),128))]),_:1})])]),t("div",Te,[t("div",ke,[t("div",Ae,[e.isOffPlan&&e.details?(r(),a("div",Pe,[Ce,t("div",Se,[(r(!0),a(v,null,w(e.details,(o,m)=>(r(),a("div",{key:m},[t("h1",Ne,c(o),1),t("span",Le,c(m),1)]))),128))])])):u("",!0),t("div",Fe,[Ve,t("p",{class:"text-sm md:text-lg text-justify",innerHTML:e.shortDescription},null,8,qe),e.showMoreBtn?(r(),a("p",{key:0,class:"mt-12 border-0 underline underline-offset-4 hover:bg-white cursor-pointer",onClick:l[1]||(l[1]=(...o)=>s.showMore&&s.showMore(...o))},c("More >"))):u("",!0)]),t("div",Ee,[Ie,t("div",Me,[(r(!0),a(v,null,w(e.amenities,(o,m)=>(r(),a("div",{class:"bg-gray-200 p-2 text-left text-xs md:text-[1rem]",key:m},c(o),1))),128))])]),e.isOffPlan&&e.units?(r(),a("div",je,[Oe,t("div",ze,[(r(!0),a(v,null,w(e.units,(o,m)=>{var A;return r(),a("div",{class:"flex justify-between text-center",key:m},[o.sqFt?(r(),a("h1",De,c(m),1)):u("",!0),o.sqFt?(r(),a("span",Be,c(o.sqFt)+" Sq Ft ",1)):u("",!0),o.price?(r(),a("span",Re," AED "+c((A=o.price)==null?void 0:A.toLocaleString("en-US")),1)):u("",!0)])}),128))])])):u("",!0),e.isOffPlan&&e.paymentPlans?(r(),a("div",Ue,[We,t("div",Ge,[(r(!0),a(v,null,w(e.paymentPlans,(o,m)=>(r(),a("div",{key:m},[t("p",He,c(o),1),t("h1",Ze,c(m),1)]))),128))])])):u("",!0)]),t("div",Je,[e.agent?(r(),a("div",Qe,[t("div",Ke,[t("img",{alt:"Agent",class:"w-[200px] h-full rounded-full",src:e.agent.img,style:{aspectRatio:"1/1",objectFit:"cover"}},null,8,Xe)]),t("div",Ye,[$e,t("p",et,c(e.agent.name),1),t("p",tt,[t("a",{href:`mailto:${e.agent.email}`,class:"text-sm montserrat-font"},c(e.agent.email),9,st)]),t("p",ot,[t("a",{href:`tel:${e.agent.phone}`,class:"text-sm montserrat-font"},c(e.agent.phone),9,lt)]),t("div",nt,[d(b,{class:"rounded-none border-2 transition-all border-[#000] bg-white text-sm font-semibold text-[#25D366] mt-2",variant:"outline",onClick:l[2]||(l[2]=o=>s.goToWhatsapp(e.agent.phone))},{default:_(()=>[P(" WhatsApp ")]),_:1}),d(b,{onClick:l[3]||(l[3]=o=>s.goToCall(e.agent.phone)),class:"rounded-none border-2 transition-all border-[#000] bg-black text-sm font-semibold text-[#e3e3e3] mt-2 ml-0 md:ml-2",variant:"outline"},{default:_(()=>[P("Call Now")]),_:1})])])])):u("",!0),t("div",it,[rt,t("div",at,[d(T,{modelValue:e.name,"onUpdate:modelValue":l[4]||(l[4]=o=>e.name=o),placeholder:"Full Name"},null,8,["modelValue"]),d(T,{modelValue:e.email,"onUpdate:modelValue":l[5]||(l[5]=o=>e.email=o),placeholder:"Email"},null,8,["modelValue"]),d(T,{modelValue:e.phone,"onUpdate:modelValue":l[6]||(l[6]=o=>e.phone=o),placeholder:"+971 | Mobile"},null,8,["modelValue"]),d(L,{class:"rounded-none border-[#000]",modelValue:e.moreInfo,"onUpdate:modelValue":l[7]||(l[7]=o=>e.moreInfo=o),placeholder:"Tell us more about what you want to know"},null,8,["modelValue"]),d(b,{class:"rounded-none border-[1px] px-6 border-[#000] bg-white text-black hover:bg-black hover:text-white",onClick:s.submitContactForm},{default:_(()=>[P("Submit")]),_:1},8,["onClick"])])])])]),e.coordinates&&e.coordinates.length>0?(r(),a("div",ct,[t("div",dt,[mt,e.address?(r(),a("span",ut,c(e.address),1)):u("",!0)]),e.coordinates&&e.coordinates.length>0?(r(),a("div",pt,[d(R,{loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,style:{height:"400px"}},{default:_(()=>[d(F,{ref:"view",center:e.coordinates,rotation:e.rotation,zoom:e.zoom,projection:e.projection},null,8,["center","rotation","zoom","projection"]),d(q,null,{default:_(()=>[d(V)]),_:1}),d(B,null,{default:_(()=>[d(D,null,{default:_(()=>[d(z,null,{default:_(()=>[d(E,{coordinates:e.coordinates},null,8,["coordinates"]),d(O,null,{default:_(()=>[d(j,{radius:e.radius},{default:_(()=>[d(I,{color:e.fillColor},null,8,["color"]),d(M,{color:e.strokeColor,width:e.strokeWidth},null,8,["color","width"])]),_:1},8,["radius"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])):u("",!0)])):u("",!0),t("div",_t,[ht,t("div",ft,[(r(!0),a(v,null,w(e.similarProperties,(o,m)=>(r(),a("div",{onClick:A=>s.goToProperty(o),class:"relative cursor-pointer hover:bg-gray-100 rounded-sm border-[1px] border-[#00000062]",key:m},[t("img",{src:o.image,alt:"Property",class:"w-full h-auto",style:{"aspect-ratio":"300 / 200","object-fit":"cover"}},null,8,gt),t("div",bt,c(o.tag),1),t("div",yt,[t("p",vt,c(o.priceText),1),t("p",wt,c(o.featureText),1),t("div",Tt,[kt,t("p",At,c(o.locationText),1)]),t("p",Pt,c(o.buttonText),1)])],8,xt))),128))])])])])):u("",!0)}const Vt=X(ne,[["render",Ct]]);export{Vt as default};
